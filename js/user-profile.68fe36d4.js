(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-profile"],{"0848":function(t,e,s){},"498a":function(t,e,s){"use strict";var a=s("23e7"),i=s("58a8").trim,n=s("c8d2");a({target:"String",proto:!0,forced:n("trim")},{trim:function(){return i(this)}})},"4a39":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.profile?s("div",{staticClass:"box"},[s("article",{staticClass:"media"},[t._m(0),s("div",{staticClass:"media-content"},[s("div",{staticClass:"content"},[s("p",[s("strong",[t._v(t._s(t.profile.alias))]),s("br"),t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean efficitur sit amet massa fringilla egestas. Nullam condimentum luctus turpis. ")])]),t._m(1)])]),s("p",{staticClass:"subtitle has-text-dark has-background-primary-light"},[t._v(t._s(t.comments.length?"Comments":"no comments yet"))]),t._l(t.comments,(function(e,a){return s("article",{key:a,staticClass:"message",class:e.from==t.user.alias?"is-link fromCurrentUserMessageStyle":"is-primary toCurrentUserMessageStyle"},[s("div",{staticClass:"message-header"},[s("p",[s("i",[t._v("from:")]),t._v(" "+t._s(e.from)+" ")])]),s("div",{staticClass:"message-body"},[t._v(t._s(e.content))])])})),s("form",{on:{submit:function(e){return e.preventDefault(),t.addComment(e)}}},[s("div",{staticClass:"field"},[s("label",{staticClass:"label has-background-primary-light"},[t._v("Add Comments")]),s("div",{staticClass:"control has-icons-left has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newComment,expression:"newComment"}],staticClass:"input is-success",attrs:{type:"text",placeholder:"enter your comment..."},domProps:{value:t.newComment},on:{input:function(e){e.target.composing||(t.newComment=e.target.value)}}}),t._m(2)]),s("p",{staticClass:"help is-danger"},[t._v(t._s(t.feedback))])])])],2):t._e()},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"media-left"},[s("figure",{staticClass:"image is-64x64"},[s("img",{attrs:{src:"https://bulma.io/images/placeholders/128x128.png",alt:"Image"}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"level is-mobile"},[s("div",{staticClass:"level-left"},[s("a",{staticClass:"level-item",attrs:{"aria-label":"reply"}},[s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fas fa-reply",attrs:{"aria-hidden":"true"}})])]),s("a",{staticClass:"level-item",attrs:{"aria-label":"retweet"}},[s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fas fa-retweet",attrs:{"aria-hidden":"true"}})])]),s("a",{staticClass:"level-item",attrs:{"aria-label":"like"}},[s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fas fa-heart",attrs:{"aria-hidden":"true"}})])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon is-small is-right"},[s("i",{staticClass:"fas fa-check"})])}],n=(s("4160"),s("498a"),s("159b"),s("032d")),r={name:"UserProfile.vue",data:function(){return{profile:null,newComment:null,feedback:null,user:null,comments:[]}},methods:{addComment:function(){var t=this;this.newComment.trim()?(this.feedback=null,n["b"].collection("geoComments").add({to:this.$route.params.id,from:this.user.alias,content:this.newComment.trim(),time:Date.now()}).then((function(){return t.newComment=null}))):this.feedback="You must enter a comment to do it"}},created:function(){var t=this,e=n["b"].collection("geoUsers");e.where("user_id","==",n["a"].currentUser.uid).get().then((function(e){e.forEach((function(e){t.user=e.data(),t.user.id=e.id}))})),e.doc(this.$route.params.id).get().then((function(e){return t.profile=e.data()})),n["b"].collection("geoComments").orderBy("time").limit(10).where("to","==",this.$route.params.id).onSnapshot((function(e){e.docChanges().forEach((function(e){"added"===e.type&&t.comments.unshift({from:e.doc.data().from,content:e.doc.data().content,time:e.doc.data().time})}))}))}},o=r,l=(s("aa22"),s("2877")),c=Object(l["a"])(o,a,i,!1,null,"66112c5d",null);e["default"]=c.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,s){var a=s("1d80"),i=s("5899"),n="["+i+"]",r=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),l=function(t){return function(e){var s=String(a(e));return 1&t&&(s=s.replace(r,"")),2&t&&(s=s.replace(o,"")),s}};t.exports={start:l(1),end:l(2),trim:l(3)}},aa22:function(t,e,s){"use strict";var a=s("0848"),i=s.n(a);i.a},c8d2:function(t,e,s){var a=s("d039"),i=s("5899"),n="​᠎";t.exports=function(t){return a((function(){return!!i[t]()||n[t]()!=n||i[t].name!==t}))}}}]);
//# sourceMappingURL=user-profile.68fe36d4.js.map